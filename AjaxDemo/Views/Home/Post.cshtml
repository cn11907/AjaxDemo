
@{
    ViewData["Title"] = "Post";
}

<h1>Post</h1>

<input type="text" id="txt1"/><br/>
<input type="text" id="txt2"/><br/>

<button id="btn1" class="btn btn-primary">start</button>
<button id="btn2"  class="btn btn-danger">stop</button>
<div id="div1" class="mt-2 p-2 w-25 border-danger"></div>
@section Scripts
{
<script>
        const btn1 = document.querySelector('#btn1')
        const txt1=document.querySelector('#txt1')
        const txt2 = document.querySelector('#txt2')
        const div1 = document.querySelector('#div1')

        const xhr=new XMLHttpRequest();


        btn1.addEventListener('click',()=>{

            xhr.open('POST','/api/index')
            xhr.setRequestHeader('Content-Type',"application/x-www-form-urlencoded");
            xhr.send(`name=${txt1.value}&age=${txt2.value}`)
        })

        xhr.addEventListener('load',()=>{
            const data= xhr.responseText;
            div1.innerHTML=`<h2>${data}</h2>`;
        })




</script>
}