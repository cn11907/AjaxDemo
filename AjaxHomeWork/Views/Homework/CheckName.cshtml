@model IEnumerable<AjaxHomeWork.Models.Members>
@{
    ViewData["Title"] = "CheckName";
}

<h1>CheckName</h1>

<h1>註冊會員</h1>
<br />
<label>姓名</label>
<input type="text" id="txtname"/>
<br />
<br />
<label>信箱</label>
<input type="text" id="txtemail" />
<br />
<br />
<label>年齡</label>
<input type="text" id="txtage" />
<br />
<br />
<button id="btn">送出</button>
<br />
<br />
<p id="p"></p>

@section Scripts
{
<script>

    const name = document.querySelector('#txtname');
    const email = document.querySelector('#txtemail');
    const btn = document.querySelector('#btn');
    const p = document.querySelector('#p');
    const xhr= new XMLHttpRequest();
    
    btn.addEventListener("click",()=>{
       
       xhr.open('POST','/homework/checkname');
       xhr.setRequestHeader('Content-Type',"application/x-www-form-urlencoded");
       xhr.send(`name=${name.value}`);
      
    })

    xhr.addEventListener('load',()=>{
            const data= xhr.responseText;
            p.textContent=`${data}`;
    })







</script>
}