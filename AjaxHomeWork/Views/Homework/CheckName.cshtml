@model IEnumerable<AjaxHomeWork.Models.Members>
@{
    ViewData["Title"] = "CheckName";
}
@section Styles
{
    <style>
        label{font-size:28px}


    </style>
}


<h1>會員註冊</h1>
<br />
<div class="mb-3">
    <label class="form-label">姓名</label>
    <input type="text" class="form-control" id="txtname" />
</div>
<br />
<div class="mb-3">
    <label class="form-label">信箱</label>
<input type="text" class="form-control" id="txtemail" />
</div>
<br />
<div class="mb-3">
    <label class="form-label">年齡</label>
    <input type="text" class="form-control" id="txtage" />
</div>
<br />
<button id="btn" class="btn btn-primary">送出</button>
<br />
<br />
<div>
<p id="p"></p>
</div>

@section Scripts
{
<script>

    const name = document.querySelector('#txtname');
    const btn = document.querySelector('#btn');
    const p = document.querySelector('#p');
    const xhr= new XMLHttpRequest();
    
    btn.addEventListener("click",()=>{
       
       xhr.open('POST','/homework/checkname');
       xhr.setRequestHeader('Content-Type',"application/x-www-form-urlencoded");
       xhr.send(`name=${name.value}`);
      
    })

    xhr.addEventListener('load',()=>{
            const data= xhr.responseText;
            p.textContent=`${data}`;
    })
</script>
}